# Python file System

Files could be of many types, for example, text files with `.txt` extensions, data files in a `.csv` extension, or even executable files with `.exe` extensions.

Not all file types are immediately readable. Some file types are requires specialized software to read themlike the `PSD` file that's generated by Adobe Photoshop.

In our tutorials we will be working with extensions such as `.txt, .csv and .json` that's Text file, comma separated value and javascript object notation respectively.

### **File Object**

The file object is the default and easiest way to manipulate files in Python. It includes a couple of methods and attributes which make it easier for developers to read from, and write to, files in the filesystem.

There are two major file object types that are recognized in Python:

1. `Binary file objects`: These can read and write byte-like objects.
2. `Text file objects`: These can read and write strings objects.

### **The open function**

The `open()` function, which we will be looking at later, is the easiest way to create a file object. Depending on the mode passed to the open() function, you will get back either a binary or text file object.

### The file object methods

The file object has several methods to make it easy to work with the underlying file. They include the following:

1. **file.read()**: This method loads the entire file into memory.
2. **file.readline()**: This method reads a single line from the file into memory.
3. **file.readlines()**: This method reads all of the lines of a file into a list.
4. **file.write()**: This method writes output to the file.
5. **file.seek()**: This method is used to move the file object position to a certain location in the file.

### **Reading and Writing Files**

**The `open()` Method**
The `open()` method is a built-in function in Python that you can use to read and write a file. It takes two arguments, the filename and a mode, for example, `open(filename, mode)`, and returns a file object that you can manipulate.

Here is table of some of the modes that can be passed to the open function to determine the kind of file object you will get back; modes for Text files

| Mode |                                                                       Use                                                                       |
| ---- | :---------------------------------------------------------------------------------------------------------------------------------------------: |
| r    |                                                    Read mode. only allows you to read files                                                     |
| w    |                        Write mode. Used to write data to a file. it overwrite any existing files with the same file name                        |
| a    | Append mode. This is the same as the write mode, except that it adds the data to the end of the file if its exist (or creates new file if not.) |
| r+   |                                                        Handles both reading and writing                                                         |

The table below contains modes for reading and writing to a binary file
| Mode | Use |
|----------|:-------------:|
| rb | Reads a binary file |
| wb | Writes to a binary file|
| rb+ | Combines special mode for working with binary file objects |

### **Creating, Reading and Writing to Files**

let's start this section off by creating a file. To create a file, we will be using the `open()` method and then pass in the `filename` and the `mode` which is `w` in this case. Now if there is an existing file with the same name that we are about to create, pyhton will overwrite that file. But for our case we starting from scretch so we do not have a existing file in our directory.

```python
# creating a text file using the open() method,
f = open("file1.txt", "w")

# writing some data to the file1.txt
f.write("Hello World, i have successfully created my first file using the open() method")

# Now we close the file. remember to always close the after you are done working with the file.
f.close()
```

Now a new file with the name `file1.txt` will appear in you directory. you check to comfirm whether the text you wrote to the file has successfully appear.

let's add more conetent to the file, open the file in append mode `"a"`

```python
# Opening the file in append mode
f = open("file1.txt", "a")

# Adding content to end of the file
f.write("I love coding using Python Programming")

# Closing the file
f.close()
```

Always remember that you can not write or append to the file without specifying the mode in the `open()` function, forgetting the mode will always raise an error. now your file has been appended at the end of the file. you check to comfirm.

Now it's time for us to read some file. what mode will we use ?, you guessed it right `"r"` mode.

```python
# opening the file in the read mode
f = open("file1.txt", "r")

# loading the entire file into memory using the read()
f.read()

# always remember to close the file after reading
f.close()
```

**Reading and Writing mode using `"r+"`**

```python
# opening the file in the read and write mode
f = open("file1.txt", "r+")

# using the readline() reads a single line from the file into memory
f.readline()

# always remember to close the file after reading
f.close()
```

### **The with Content Manager**

Python comes with a handy context manager for working with files, which helps in writing neater code and freeing resources automatically when the code exits so that you do not have to. Let's read a file using the `with` keyword with the `open()`;

**when using the context manager, reading a file doesn't strickly require you to pass in the mode, however when you want to write you to a file, you need to explicitly pass the mode else python will error out.**

```python
# opening the file with the with keyword
with open("file1.txt") as f:

    # using the readline() reads a single line from the file into memory
    data = f.readline()

    # displaying the content in the file.
    print(data)
```

### **Handling structured Data**

In the section, we will take a look at two structured data. They are `CSV and JSON`. Let's look at the structure of both;

**For CSV**
This is a sample of csv data i picked online for the purpose of the tutorials. The first row is the headers of this csv file, so if you didn't catch that at first glance then now you know.

```
name,age,income,gender,department,grade,performance_score
Allen Smith,45,NaN,NaN,Operations,G3,723
S Kumar,NaN,16000,F,Finance,G0,520
Jack Morgan,32,35000,M,Finance,G2,674
Ying Chin,45,65000,F,Sales,G3,556
Dheeraj Patel,30,42000,F,Operations,G2,711
Satyam Sharma,NaN,62000,NaN,Sales,G3,649
James Authur,54,NaN,F,Operations,G3,53
Josh Wills,54,52000,F,Finance,G3,901
Leo Duck,23,98000,M,Sales,G4,709
```

**For JSON**
Here is an example of the javascript object notation (JSON);

```python
{
    "data": [
        {"name":"Jane Smith", "age": 22},
        {"name":"John Mickson", "age": 28},
        {"name":"Janet Doddo", "age": 30},
        {"name":"Micky  Richy", "age": 40}
    ]
}
```

### **Reading a CSV File**

Reading a CSV file requires us to import the csv module and create a reader object: like `import csv`. I have a csv file in my directory called employee.csv that we will be using for this tutorials.


```python
# Let's import csv
import csv

# Reading the csv file form my directory
with open("employee.csv","r") as f:
    csv_data = csv.reader(f)
    
    line = 1
    for row in csv_data:
        # Skipping line 1 which is the header row.
        if line > 1: 
            print(row)
        line += 1
```

### **Writing a CSV File**

```python
import csv

# open the file in write mode
with open("employee.csv","w") as f:
    cvs_writer = csv.writer(f)
    cvs_writer.writerow(["peter smith",37,99000,"M","Sales","G4",709])
    cvs_writer.writerow(["Jane Doe",24,129000,"F","Accouting","G1",520])

```

### **Writing a dictionary to  CSV File**

```python
import csv

with open("people.csv", "w") as f:
    
    # Declaring the headers for the csv file
    fields = ["Name", "Age", "Salary"]
    people_writer = csv.DictWriter(f, fieldnames = fields)
    
    # Writing the fields as the first row
    people_writer.writeheader()
    
    # Adding the corresponding data
    people_writer.writerow({"Name": "Micheal Ackah", "Age": 25, "Salary": 120000})
    people_writer.writerow({"Name": "Janet Ackah", "Age": 20, "Salary": 90000})
    people_writer.writerow({"Name": "Peter johnson", "Age": 67, "Salary": 1200000})

```


### **Working with JSON data `(javascript Object Notation)`**

Python includes a json module with a few functions to assist in parsing JSON and converting some Python objects, for example, dictionaries into JSON objects. There are two critical methods from the json module that you need to know about to use JSON in Python. so here we also need to import the module `json`


**1. `json.dumps()`**
The json.dumps() method is used for JSON encoding, for example, converting dictionaries into JSON objects.


```python
import json

sample = {
    "name" : "Peter Amanfo",
    "Age" : 34
}

json_sample = json.dumps(sample)
print(json_sample)
print(type(json_sample))

```